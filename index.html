<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PortoUX – Framework Visual para o Setor Portuário</title>
    <link rel="stylesheet" type="text/css" href="./mani-porto.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="v2-data-porto.js"></script>

    <script src="https://cdn.userway.org/widget.js" data-account="09FcxZNn6a"></script>
    
    <style>
        .access-button {
            border-radius: 50px;
        }
    </style>
</head>

<body>

    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
<div class="container">

        <header class="framework-header">
            <div class="header-content">
                <h1 class="main-title">PortoUX</h1>
                <p class="framework-subtitle">
                    <strong>Framework Visual para o Setor Portuário</strong>
                </p>
                <p class="main-description">
                    Este framework heurístico transforma princípios de <strong>UX</strong> e <strong>DataViz</strong> em diretrizes práticas. Utilize-o para projetar experiências visuais para dados portuários – escolhendo visualizações, estruturando dashboards e destacando os elementos que realmente apoiam a tomada de decisão em tempo real.
                </p>
                <p class="framework-credit">
                    <strong>Interfaces que Guiam Decisões: A Influência do Design de Dashboards no Setor Portuário.</strong>
                    TCC | Bruna L. S. Gama – Gestão de Dados, UFPI (2025). Inspirado no
                    <a href="https://ft-interactive.github.io/visual-vocabulary/" target="_blank" rel="noopener noreferrer">
                        Visual Vocabulary
                    </a>
                    do Financial Times.
                </p>
            </div>

        </header>

        <div id="timeline-container"></div>
        <div id="info-panel"></div>

    </div>

    <div id="image-modal" class="image-modal-overlay">
        <div class="image-modal-content">
            <span class="image-modal-close">&times;</span>
            <img src="" alt="Exemplo Aplicado" class="image-modal-img">
            <p class="image-modal-caption"></p>
        </div>
    </div>

   
    <script>
        const plotCategories = catData.categories;
        let currentOpenCategory = null;

        function createCategoryNav() {
            const timelineContainer = d3.select("#timeline-container");
            timelineContainer.html("");

            const nav = timelineContainer.append("nav").attr("class", "category-nav");
            
            
            nav.append("div").attr("class", "nav-background-line");

            plotCategories.forEach(cat => {
                const button = nav.append("a")
                    .attr("class", "category-button-html")
                    .attr("href", "#")
                    .on("click", function() {
                        d3.event.preventDefault();
                        toggleCategory(cat);
                    });

                button.append("span")
                    .attr("class", "category-text")
                    .style("color", cat.colour)
                    .text(cat.category);
                
             
                button.append("div")
                    .attr("class", "category-underline")
                    .style("background-color", cat.colour);
            });
        }

        function toggleCategory(category) {
            const infoPanel = d3.select("#info-panel");
            
           
            d3.selectAll('.category-button-html').classed('active', false);

            if (currentOpenCategory === category.category) {
                infoPanel.transition().duration(300).style("max-height", "0px").style("opacity", 0).style("margin-top", "0px");
                currentOpenCategory = null;
                return;
            }

            currentOpenCategory = category.category;
            
   
            d3.selectAll('.category-button-html').each(function() {
                const buttonNode = this;
                if (buttonNode.textContent.trim() === category.category) {
                    d3.select(buttonNode).classed('active', true);
                }
            });

            infoPanel.transition().duration(100).style("margin-top", "32px");
            infoPanel.html("");

            const panel = infoPanel.append("div").attr("class", "info-panel-content").style("background-color", category.colour);
            panel.append("h2").attr("class", "panel-title").text(category.category);
            panel.append("p").attr("class", "panel-description").text(category.description);
            panel.append("h3").attr("class", "panel-subhead").text("Exemplo aplicado");

            const exampleLink = panel.append("a").attr("href", "#").attr("class", "panel-example example-trigger").attr("data-img", category.example.img).attr("data-caption", category.example.text);
            
           
            exampleLink.html(category.example.text + 
            ` <span class="view-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 0 0 1 0V6.435l.106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 1 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.118a.5.5 0 0 1-.447-.276l-1.232-2.465-2.512-4.185a.517.517 0 0 1 .809-.631l2.41 2.41A.5.5 0 0 0 6 9.5V1.75A.75.75 0 0 1 6.75 1M8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v6.543L3.443 6.736A1.517 1.517 0 0 0 1.07 8.588l2.491 4.153 1.215 2.43A1.5 1.5 0 0 0 6.118 16h6.302a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5 5 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.6 2.6 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046zm2.094 2.025"/>
                </svg>
              </span>`
            );

            panel.append("h3").attr("class", "panel-subhead").text("Boas práticas e componentes");
            
            const cardsContainer = panel.append("div").attr("class", "cards-container");
            category.children.forEach(child => {
                const card = cardsContainer.append("div").attr("class", "chart-card");
                card.append("div").attr("class", "chart-icon").style("background-color", "rgba(0, 0, 0, 0.2)").html(getIconSVG(child.name));
                card.append("h4").attr("class", "chart-name").text(child.name);
                card.append("p").attr("class", "chart-description").text(child.description);
                if (child.usePara) { card.append("p").attr("class", "chart-use").html(`<strong>Use para:</strong> ${child.usePara}`); }
                if (child.faca && child.evite) {
                    const practicesContainer = card.append("div").attr("class", "practices-container");
                    const doSection = practicesContainer.append("div").attr("class", "practice-section do-section");
                    doSection.append("h5").attr("class", "practice-title").text("Faça");
                    const doList = doSection.append("ul").attr("class", "practice-list");
                    child.faca.forEach(item => doList.append("li").text(item));
                    const dontSection = practicesContainer.append("div").attr("class", "practice-section dont-section");
                    dontSection.append("h5").attr("class", "practice-title").text("Evite");
                    const dontList = dontSection.append("ul").attr("class", "practice-list");
                    child.evite.forEach(item => dontList.append("li").text(item));
                }
            });
            infoPanel.transition().duration(300).style("max-height", "5000px").style("opacity", 1);
        }

        createCategoryNav();

        function setupModal() {
            const modal = document.getElementById('image-modal');
            const modalImg = modal.querySelector('.image-modal-img');
            const modalCaption = modal.querySelector('.image-modal-caption');
            const closeBtn = modal.querySelector('.image-modal-close');
            document.body.addEventListener('click', function(event) {
                const trigger = event.target.closest('.example-trigger');
                if (trigger) {
                    event.preventDefault();
                    modalImg.src = trigger.dataset.img;
                    modalCaption.textContent = trigger.dataset.caption;
                    modal.classList.add('active');
                }
            });
            function closeModal() { modal.classList.remove('active'); }
            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', function(event) { if (event.target === modal) { closeModal(); } });
        }
        setupModal();
    </script>
  
    <script>
       
        const ICONS = {
            "Paleta Semântica do Porto": `<svg viewBox="0 0 64 64"><defs><linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#58D68D;" /><stop offset="100%" style="stop-color:#28a745;" /></linearGradient><linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#F7DC6F;" /><stop offset="100%" style="stop-color:#FBC02D;" /></linearGradient><linearGradient id="g3" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#F1948A;" /><stop offset="100%" style="stop-color:#dc3545;" /></linearGradient></defs><g transform="rotate(10 32 32)"><rect x="10" y="12" width="12" height="40" rx="4" fill="url(#g1)" /><rect x="26" y="12" width="12" height="40" rx="4" fill="url(#g2)" /><rect x="42" y="12" width="12" height="40" rx="4" fill="url(#g3)" /></g></svg>`,
            "Tipografia Robusta": `<svg viewBox="0 0 64 64"><g fill="#E0E1DD"><text x="12" y="52" font-size="48" font-family="Roboto, sans-serif" font-weight="700">A</text><text x="40" y="52" font-size="32" font-family="Roboto, sans-serif" font-weight="400">a</text></g></svg>`,
            "Contraste por Ambiente": `<svg viewBox="0 0 64 64"><path d="M32,56C17.6,56,6,44.4,6,30S17.6,4,32,4Z" fill="#0D1B2A"/><path d="M32,4C46.4,4,58,15.6,58,30S46.4,56,32,56Z" fill="#E0E1DD"/></svg>`,
            "Redução de Chartjunk": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2.5" stroke-linecap="round"><path d="M10 54 L 10 10 L 54 10" stroke-opacity="0.5"/><path d="M16 48 V 30" stroke-width="8"/><path d="M32 48 V 20" stroke-width="8"/><path d="M48 48 V 40" stroke-width="8"/><line x1="20" y1="14" x2="4" y2="30" stroke="#dc3545" stroke-width="3"/><line x1="4" y1="14" x2="20" y2="30" stroke="#dc3545" stroke-width="3"/></g></svg>`,
            "Consistência de Ícones": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 14 l-8 8 8 8"/><path d="M46 14 l8 8-8 8"/><circle cx="32" cy="42" r="8"/><path d="M28 42h8"/></g></svg>`,
            "Espaçamento (Whitespace)": `<svg viewBox="0 0 64 64"><g fill="#E0E1DD" fill-opacity="0.1" stroke="#E0E1DD" stroke-width="2"><rect x="10" y="10" width="44" height="44" rx="4"/><rect x="18" y="18" width="28" height="12" rx="2" fill="rgba(65, 90, 119, 0.8)"/><rect x="18" y="38" width="28" height="8" rx="2" fill="rgba(65, 90, 119, 0.8)"/></g></svg>`,
            "KPIs no Topo (F/Z)": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2"><rect x="6" y="10" width="52" height="44" rx="4" fill="rgba(65, 90, 119, 0.5)" stroke="none"/><path d="M12 20 H 52 M 12 28 H 32"/><path d="M10,24 L20,14 M10,48 L54,48 M10,36 L54,36" stroke-opacity="0.5"/></g></svg>`,
            "Fluxo Visão→Filtro→Detalhe": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2" stroke-linecap="round"><path d="M8 32 L 56 32" stroke-dasharray="4 4" /><circle cx="14" cy="32" r="6" fill="rgba(65, 90, 119, 0.7)" /><circle cx="32" cy="32" r="8" fill="rgba(127, 169, 223, 0.7)" /><circle cx="50" cy="32" r="10" fill="rgba(169, 204, 255, 0.7)" /></g></svg>`,
            "Rótulos e Alinhamento": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2.5" stroke-linecap="round"><path d="M14 18 H 30"/><path d="M14 32 H 24"/><path d="M14 46 H 34"/><path d="M50 18 H 40"/><path d="M50 32 H 44"/><path d="M50 46 H 38"/></g></svg>`,
            "Agrupamento Visual": `<svg viewBox="0 0 64 64"><rect x="8" y="8" width="24" height="48" rx="4" fill="rgba(65, 90, 119, 0.5)" /><rect x="36" y="8" width="20" height="20" rx="4" fill="rgba(65, 90, 119, 0.5)" /><rect x="36" y="36" width="20" height="20" rx="4" fill="rgba(65, 90, 119, 0.5)" /></g></svg>`,
            "Estrutura Multi-Aba": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2"><path d="M8,52 V18 C8,15,10,13,13,13 H24 V10 h16 v3 h11 c3,0,5,2,5,5 V52 Z" fill="rgba(65, 90, 119, 0.5)"/><path d="M25 13 V 10 h14 v3" fill="rgba(127, 169, 223, 0.7)"/></g></svg>`,
            "Uso de Múltiplos Painéis": `<svg viewBox="0 0 64 64"><g fill="rgba(65, 90, 119, 0.5)" stroke="#E0E1DD" stroke-width="2"><rect x="8" y="8" width="22" height="22" rx="3"/><rect x="34" y="8" width="22" height="22" rx="3"/><rect x="8" y="34" width="22" height="22" rx="3"/><rect x="34" y="34" width="22" height="22" rx="3"/></g></svg>`,
            "Controles Consistentes": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2.5" stroke-linecap="round"><circle cx="22" cy="24" r="8" fill="rgba(65, 90, 119, 0.7)" /><path d="M22 32 V 48"/><rect x="36" y="18" width="14" height="28" rx="7" fill="rgba(65, 90, 119, 0.7)"/></g></svg>`,
            "Estados Visuais Claros": `<svg viewBox="0 0 64 64"><g stroke-width="2.5"><rect x="6" y="24" width="16" height="16" rx="4" fill="#E0E1DD"/><rect x="24" y="24" width="16" height="16" rx="4" fill="rgba(127, 169, 223, 0.7)" stroke="#E0E1DD"/><rect x="42" y="24" width="16" height="16" rx="4" fill="rgba(65, 90, 119, 0.5)" stroke="#E0E1DD" stroke-dasharray="3 3"/></g></svg>`,
            "Prevenção de Erros": `<svg viewBox="0 0 64 64"><g stroke="#f1948a" fill="none" stroke-width="4" stroke-linecap="round"><circle cx="32" cy="32" r="22" fill="rgba(220, 53, 69, 0.3)"/><path d="M22 42 L 42 22 M22 22 L 42 42"/></g></svg>`,
            "Filtro Simples vs. Avançado": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="3" stroke-linecap="round"><path d="M12 18 H 52 M 18 32 H 46 M 24 46 H 40"/><path d="M 54 50 l -6 -6" stroke-width="2" stroke-dasharray="2 2"/></g></svg>`,
            "Exploração Intuitiva": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2.5"><circle cx="28" cy="28" r="16" fill="rgba(65, 90, 119, 0.5)"/><path d="M40 40 L 52 52"/><path d="M28 18 v 20 M 18 28 h 20" stroke-opacity="0.5" stroke-dasharray="3 3"/></g></svg>`,
            "Redundância à Cor": `<svg viewBox="0 0 64 64"><g fill="#E0E1DD" text-anchor="middle" font-size="14" font-weight="bold"><circle cx="20" cy="32" r="12" fill="#28a745"/><text x="20" y="37" fill="#fff">✓</text><path d="M42 20 L 54 44 L 30 44 Z" fill="#dc3545"/><text x="42" y="38" fill="#fff">!</text></g></svg>`,
            "Tamanhos e Espaçamento": `<svg viewBox="0 0 64 64"><rect x="8" y="20" width="22" height="22" rx="4" fill="rgba(65, 90, 119, 0.5)"/><rect x="34" y="20" width="22" height="22" rx="4" fill="rgba(65, 90, 119, 0.5)"/><path d="M30 24 l -4 8 4 8 M34 24 l 4 8-4 8" fill="none" stroke="#E0E1DD" stroke-width="2" stroke-linecap="round"/></g></svg>`,
            "Navegação por Teclado": `<svg viewBox="0 0 64 64"><g fill="rgba(65, 90, 119, 0.5)" stroke="#E0E1DD" stroke-width="2" stroke-linecap="round"><rect x="10" y="16" width="12" height="12" rx="2"/><rect x="26" y="16" width="12" height="12" rx="2"/><rect x="42" y="16" width="12" height="12" rx="2"/><rect x="10" y="36" width="44" height="12" rx="2" fill="rgba(127, 169, 223, 0.7)"/></g></svg>`,
            "Paleta para Daltonismo": `<svg viewBox="0 0 64 64"><g stroke-width="2.5"><rect x="10" y="20" width="20" height="24" fill="#0072B2"/><rect x="34" y="20" width="20" height="24" fill="#D55E00"/></g></svg>`,
            "Design Responsivo": `<svg viewBox="0 0 64 64"><g fill="none" stroke="#E0E1DD" stroke-width="2"><rect x="8" y="16" width="36" height="32" rx="3" fill="rgba(65, 90, 119, 0.5)" /><rect x="48" y="24" width="10" height="16" rx="2" fill="rgba(65, 90, 119, 0.5)" /></g></svg>`,
            "Gráfico de Linhas (Tendência)": `<svg viewBox="0 0 64 64"><g fill="none" stroke-width="2.5"><path d="M10 54 L 10 10" stroke="#E0E1DD" stroke-opacity="0.5"/><path d="M10 54 L 54 54" stroke="#E0E1DD" stroke-opacity="0.5"/><polyline points="14,48 24,30 38,38 50,20" stroke="#63a4ff" stroke-width="3" stroke-linecap="round"/></g></svg>`,
            "Gráfico de Barras (Comparação)": `<svg viewBox="0 0 64 64"><g fill="#415A77" stroke="#E0E1DD" stroke-width="2"><path d="M10 54 L 10 10 L 54 10" fill="none" stroke-opacity="0.5"/><rect x="14" y="30" width="10" height="24" rx="2"/><rect x="27" y="20" width="10" height="34" rx="2"/><rect x="40" y="40" width="10" height="14" rx="2"/></g></svg>`,
            "Gráfico de Dispersão (Correlação)": `<svg viewBox="0 0 64 64"><g fill="#63a4ff"><path d="M10 54 L 10 10 L 54 10" fill="none" stroke="#E0E1DD" stroke-opacity="0.5" stroke-width="2"/><circle cx="18" cy="45" r="3"/><circle cx="25" cy="38" r="3"/><circle cx="30" cy="35" r="3"/><circle cx="38" cy="28" r="3"/><circle cx="46" cy="20" r="3"/></g></svg>`,
            "Gráfico de Funil (Fluxo)": `<svg viewBox="0 0 64 64"><g fill="rgba(65, 90, 119, 0.5)" stroke="#E0E1DD" stroke-width="2" stroke-linejoin="round"><path d="M12 14 H 52 L 42 32 H 22 Z"/><path d="M22 32 L 32 50 L 42 32 Z" fill="rgba(127, 169, 223, 0.7)"/></g></svg>`,
            "Feedback Instantâneo": `<svg viewBox="0 0 64 64"><g fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M32 12 L39.39 26.61 L56 29 L44 40.6 L46.78 56 L32 48.1 L17.22 56 L20 40.6 L8 29 L24.61 26.61 Z" stroke="#FBC02D" stroke-width="3" fill="rgba(251, 192, 45, 0.2)"/><path d="M32 32 C 40 32 40 40 40 40" stroke="#E0E1DD" stroke-width="2.5" stroke-dasharray="4 4"/></g></svg>`,
            "Linguagem Simples": `<svg viewBox="0 0 64 64"><g stroke-linecap="round" stroke-linejoin="round" stroke="#E0E1DD" fill="none" stroke-width="2.5"><path d="M16 18 H 40 L 48 26 V 46 H 16 Z" fill="rgba(65, 90, 119, 0.5)"/><path d="M22 28 H 36 M22 36 H 30" stroke-width="2"/></g></svg>`,
            "Narrativa e Anotações": `<svg viewBox="0 0 64 64"><g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"><path d="M10 50 C 18 25, 30 22, 38, 34 C 46 46, 50 42, 54 30" stroke="#63a4ff" stroke-width="3"/><rect x="12" y="12" width="20" height="12" rx="2" fill="rgba(65, 90, 119, 0.7)" stroke="#E0E1DD"/><path d="M22 24 L 36 32" stroke="#E0E1DD" stroke-dasharray="3 3"/></g></svg>`,
            "Indicadores de Incerteza": `<svg viewBox="0 0 64 64"><g stroke-linecap="round" stroke-linejoin="round"><path d="M10 44 C 20 16, 40 16, 54 44" fill="rgba(99, 164, 255, 0.3)" stroke="none" /><path d="M10 44 C 20 16, 40 16, 54 44" fill="none" stroke="#63a4ff" stroke-width="3" stroke-dasharray="1 6"/></g></svg>`
        };
        function getDefaultIconSVG() {
            return `<svg viewBox="0 0 64 64" role="img" aria-label="Visual"><g fill="none" stroke="#E0E1DD" stroke-width="2.5" stroke-linecap="round"><rect x="10" y="12" width="44" height="36" rx="4"/><circle cx="24" cy="30" r="6"/><line x1="34" y1="30" x2="48" y2="30"/></g></svg>`;
        }
        function getIconSVG(name) {
            return ICONS[name] || getDefaultIconSVG();
        }
    </script>
    
    <!-- Scripts de Acessibilidade -->
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
        new window.VLibras.Widget('https://vlibras.gov.br/app');
    </script>
    <script src="acessibilidade.js"></script>
    
</body>
</html>
